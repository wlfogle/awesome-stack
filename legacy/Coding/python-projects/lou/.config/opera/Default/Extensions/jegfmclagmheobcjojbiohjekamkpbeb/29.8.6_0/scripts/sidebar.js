"use strict";!function(){var n,e=window,a="undefined"!=typeof chrome&&chrome||{},t="undefined"!=typeof KeyboardEvent&&"key"in KeyboardEvent.prototype&&!/MSIE |Edge\/|Trident.*rv:11\./.test(navigator.userAgent)&&void 0===String.quote,o=t?" ":32,i=t?"Enter":13;var r=a.runtime.getURL("PATH/").replace("/PATH/",""),u=r.startsWith("safari-web-extension://"),r=!u&&r.startsWith("moz-extension://"),c=!u&&!r,f=a.tabs&&a.tabs.TAB_ID_NONE||-1;function d(n){return"number"==typeof(n=n&&n.id)?n:f}function s(){return o={active:!0,currentWindow:!0},new Promise(function(e,t){a.tabs.query(o,function(n){var r=a.runtime.lastError;r?t(r):Array.isArray(n)?u&&o&&o.url?(r=n.filter(function(n){return n.url}),e(r)):e(n):t(new Error("No array returned"))}),setTimeout(e,2e3)}).then(function(n){return n[0]},function(){return null});var o}function l(i){return new Promise(function(e,t){function o(n){var r=n.message||"";"openerTabId"in i&&-1!==r.indexOf("openerTabId")?(delete i.openerTabId,e(l(i))):c&&-1!==r.indexOf("Saved groups are not editable")?e():t(n)}try{a.tabs.create(i,function(n){var r=a.runtime.lastError;r?o(r):e(n)})}catch(n){o(n)}})}function v(n){e.open(n,"_blank","noopener")}function p(r){try{e.top.location.href=r}catch(n){v(r)}}function m(r,n){var o,i,e="number"==typeof(n=n)&&n!==f?n:null;return o=e,i={url:r},new Promise(function(e,t){a.tabs.update(o,i,function(n){var r=a.runtime.lastError;r?t(r):e(n)})}).catch(function(){if(null===e)return s().then(function(n){n=d(n);if(n!==f)return m(r,n);p(r)});p(r)})}function y(n,r,e,i){var t={url:n},u=(!1===r&&e&&(t.active=!1),d(i));return u!==f&&(t.openerTabId=u,t.index=i.index+1),l(t).then(function(n){var r,e,t,o;return u!==f&&(r=n,e=i,a.tabs.group)&&(t=d(r))!==f&&(o=e.groupId,r.groupId!==o)&&a.tabs.group({groupId:o,tabIds:t},function(){a.runtime.lastError||(r.groupId=o)}),n},function(){v(n)})}function b(n,r,e,t,o){if(!n)return Promise.reject(new Error("Missing URL"));if(!e){var i;if(r)return i=Boolean(t&&t.incognito),u={incognito:i,url:n},new Promise(function(e,t){a.windows.create(u,function(n){var r=a.runtime.lastError;r?t(r):e(n)})}).catch(function(){return y(n,r,e,t)});if(!1===e)return m(n,o)}var u;y(n,r,e,t)}var g=n||(r=/^Mac|^iP/.test(navigator.platform),n=r?"metaKey":"ctrlKey"),r=document.getElementById("ref-contact");function h(n){b(n.target.href,n.shiftKey,n[g]||null),n.preventDefault()}r.addEventListener("click",h),r.addEventListener("keydown",function(n){r=n;var r=t&&r.key||r.which||r.keyCode;r!==i&&r!==o||h(n)})}();