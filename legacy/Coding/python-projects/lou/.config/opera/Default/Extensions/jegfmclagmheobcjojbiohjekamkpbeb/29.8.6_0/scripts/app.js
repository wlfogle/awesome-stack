"use strict";!function(){var n=window,A=n.location,I=document,B="undefined"!=typeof chrome&&chrome||{},f=B.runtime.getURL("PATH/").replace("/PATH/",""),d=f.startsWith("safari-web-extension://"),f=!d&&f.startsWith("moz-extension://"),v=!d&&!f;function b(e,t){e=JSON.stringify({method:e,data:JSON.stringify(t||null)});webkit.messageHandlers.controller.postMessage(e)}function _(){B.runtime.lastError}var c=B.tabs&&B.tabs.TAB_ID_NONE||-1;function y(r){return new Promise(function(n,a){B.tabs.query(r,function(e){var t=B.runtime.lastError;t?a(t):Array.isArray(e)?d&&r&&r.url?(t=e.filter(function(e){return e.url}),n(t)):n(e):a(new Error("No array returned"))}),setTimeout(n,2e3)})}function C(r){var o,i,e,t;return r&&"string"==typeof r?(o=-1===r.indexOf("?"),i=-1===r.indexOf("#"),e=r.split("?")[0].split("#")[0]+"*",t={currentWindow:!0},(e=e)&&(t.url=e),y(t).then(function(e){for(var t=e.length-1;0<=t;t--){var n=e[t],a=L(n);if(a){if(a===r)return n;try{a=new URL(a)}catch(e){continue}if(o&&(a.search=""),i&&(a.hash=""),a.href===r)return n}}return null},function(){return null})):Promise.resolve(null)}function E(e){return"number"==typeof e&&e!==c?e:null}function w(e){return"number"==typeof e?e:c}function s(e){return w(e&&e.id)}function L(e){return e&&(e.pendingUrl||e.url)||""}function j(){return null}function x(){return new Promise(function(n){B.tabs.getCurrent(function(e){_();var t=s(e);n(t===c?null:e)})}).catch(j)}function k(){return new Promise(function(n){B.runtime.sendMessage({method:"getCurrentTab"},function(e){_();var t=s(e);n(t===c?null:e)})}).catch(j)}function N(){return y({active:!0,currentWindow:!0}).then(function(e){return e[0]},function(){return null})}function S(e,t){return new Promise(function(n,a){B.tabs.update(e,t,function(e){var t=B.runtime.lastError;t?a(t):n(e)})})}function Q(o){return new Promise(function(n,a){function r(e){var t=e.message||"";"openerTabId"in o&&-1!==t.indexOf("openerTabId")?(delete o.openerTabId,n(Q(o))):v&&-1!==t.indexOf("Saved groups are not editable")?n():a(e)}try{B.tabs.create(o,function(e){var t=B.runtime.lastError;t?r(t):n(e)})}catch(e){r(e)}})}function X(e){n.open(e,"_blank","noopener")}function Y(t){try{n.top.location.href=t}catch(e){X(t)}}function Z(e,t,n,o){var a={url:e},i=(!1===t&&n&&(a.active=!1),s(o));return i!==c&&(a.openerTabId=i,a.index=o.index+1),Q(a).then(function(e){var t,n,a,r;return i!==c&&(t=e,n=o,B.tabs.group)&&(a=s(t))!==c&&(r=n.groupId,t.groupId!==r)&&B.tabs.group({groupId:r,tabIds:a},function(){B.runtime.lastError||(t.groupId=r)}),e},function(){X(e)})}function ee(e,t,n,a,r){if(!e)return Promise.reject(new Error("Missing URL"));if(!n){var o;if(t)return o=Boolean(a&&a.incognito),i={incognito:o,url:e},new Promise(function(n,a){B.windows.create(i,function(e){var t=B.runtime.lastError;t?a(t):n(e)})}).catch(function(){return Z(e,t,n,a)});if(!1===n)return function t(n,e){var a=E(e);return S(a,{url:n}).catch(function(){if(null===a)return N().then(function(e){if((e=s(e))!==c)return t(n,e);Y(n)});Y(n)})}(e,r)}var i;return Z(e,t,n,a)}function te(e,t,n){var a;return ee(B.runtime.getURL((a=B.runtime.getManifest()).options_page||(a.options_ui||{}).page||"/views/options.html"),e,t,n)}function ne(e,t,n){return e||t||d?te(e,t,n):new Promise(function(e,t){B.runtime.openOptionsPage(function(){(B.runtime.lastError?t:e)()})}).catch(function(){return te(e,t,n)})}var ae=!0;try{var e=B.i18n.getMessage("@@ui_locale");"string"==typeof e&&"und"!==e&&(a=e.replace("_","-"))}catch(e){ae=!1}var r=a;if(!r)try{var t=B.runtime.getManifest().default_locale;"string"==typeof t&&(r=t.replace("_","-"))}catch(e){}function re(e,t){return e&&ae&&B.i18n.getMessage(e)||t||""}function oe(e,t){return-1!==e.indexOf(t)||(t=t&&t.split("-",1)[0],-1!==e.indexOf(t))?t:null}function ie(){return getSelection().toString()}function ce(e){return B.scripting.executeScript({func:ie,target:{allFrames:!0,tabId:e}}).then(function(e){return("string"==typeof e[0]?e:e.map(function(e){return e.result})).filter(Boolean).join(" ")},function(){return""})}function se(e,t){var a,n;return B.scripting?(n=w(e))!==c?ce(n):(t||N()).then(function(e){e=s(e);return e===c?"":ce(e)}):(n=E(e),a=n,new Promise(function(n){B.tabs.executeScript(a,{allFrames:!0,code:"getSelection().toString()",runAt:"document_start"},function(e){var t="";Array.isArray(e)?t=e.filter(Boolean).join(" "):"string"==typeof e&&(t=e),n(t)})}).catch(function(){return""}))}function le(e){var n;return"object"!=typeof e?"":(n=[],Object.keys(e).forEach(function(t){null!=e[t]&&(Array.isArray(e[t])?e[t].forEach(function(e){n.push(t+"="+encodeURIComponent(e))}):n.push(t+"="+encodeURIComponent(e[t])))}),n.join("&"))}function de(a){var e=N();return Promise.all([e,se(null,e)]).then(function(e){var t=e[0],e=e[1],n="",e=(0<e.length&&(n+=e+"\n\n"),(e=t)&&e.url||"");return e&&(n+=e),"https://mail.google.com/mail/u/"+(a.authuser||"0")+"/?"+le({tf:"0",ui:"2",view:"cm",su:t.title,body:n})})}function ue(n){return se().then(function(e){var t;return"https://www.google.com/maps/search/?"+le({api:"1",authuser:!(t=(t=n).authuser)||"0"===t?null:t,query:e})})}var ge=["ac","ad","ae","af","ag","al","am","as","at","az","ba","be","bf","bg","bi","bj","bo","bs","bt","by","ca","cat","cc","cd","cf","cg","ch","ci","cl","cm","cn","co","co.ao","co.bw","co.ck","co.cr","co.hu","co.id","co.il","co.im","co.in","co.je","co.jp","co.ke","co.kr","co.ls","co.ma","co.mz","co.nz","co.th","co.tz","co.ug","co.uk","co.uz","co.ve","co.vi","co.za","co.zm","co.zw","com","com.af","com.ag","com.ai","com.ar","com.au","com.bd","com.bh","com.bn","com.bo","com.br","com.by","com.bz","com.co","com.cu","com.cy","com.do","com.ec","com.eg","com.et","com.fj","com.ge","com.gh","com.gi","com.gr","com.gt","com.hk","com.iq","com.jm","com.jo","com.kh","com.kw","com.lb","com.lc","com.ly","com.mm","com.mt","com.mx","com.my","com.na","com.nf","com.ng","com.ni","com.np","com.nr","com.om","com.pa","com.pe","com.pg","com.ph","com.pk","com.pr","com.py","com.qa","com.ru","com.sa","com.sb","com.sg","com.sl","com.sv","com.tj","com.tn","com.tr","com.tw","com.ua","com.uy","com.vc","com.vn","cv","cz","de","dj","dk","dm","do","dz","ec","ee","es","fi","fm","fr","ga","gd","ge","gf","gg","gl","gm","gp","gr","gy","hk","hn","hr","ht","hu","ie","im","io","iq","is","it","it.ao","je","jo","kg","ki","kz","la","li","lk","lt","lu","lv","md","me","mg","mk","ml","mn","ms","mu","mv","mw","mx","ne","ng","nl","no","nr","nu","ph","pk","pl","pn","ps","pt","qa","ro","rs","ru","rw","sc","se","sg","sh","si","sk","sl","sm","sn","so","sr","st","td","tg","tk","tl","tm","tn","to","tt","tw","ua","us","vg","vn","vu","ws"];function he(r,e,o){if(!e)return null;try{var t=new URL(e),i=function(e){for(var t=e,n=t+"/",a=!1,r=0;!a&&r<ge.length;){var o=".google."+ge[r]+"/";-1!==n.indexOf(o)&&(t=n.replace(o,".google.com"),a=!0),r++}return t}(t.hostname)+t.pathname.split(/\/u\/\d\//).join("/").split(/\/b\/\d{21}\//).join("/")}catch(e){return null}return Object.keys(r).filter(function(e){var t=r[e],n=t.nu,a=!n&&t.u;return a&&((n=(a=new URL(a)).hostname+a.pathname).endsWith("/")&&(n=n.slice(0,-1)),t.nu=n),n&&-1!==i.indexOf(n)&&(o||!t.subId||t.subId===e)}).sort(function(e,t){return r[e].nu<r[t].nu?1:-1})}var pe="undefined"!=typeof KeyboardEvent&&"key"in KeyboardEvent.prototype&&!/MSIE |Edge\/|Trident.*rv:11\./.test(navigator.userAgent)&&void 0===String.quote,me=pe?" ":32,fe=pe?"Enter":13;function ve(e){return pe&&e.key||e.which||e.keyCode}var e=n.top===n.self,O=A.pathname.endsWith("/embed.html"),u=!1,be=!1,_e=!O&&!u&&!be,ye=f;if(e===O)throw A.href="about:blank",new Error("Not allowed to run");var T,g,Ce,P,Ee,M,we,Le,je,xe,ke,Ne,W,o,Se,Ae,Ie,l,Be,Oe,Te,Pe,Me,D,F,h,We,U,De,z,Fe,i,Ue,a=navigator.userAgent.toLowerCase(),t=d||/^Mac|^iP/.test(navigator.platform),ze=t&&-1!==a.indexOf("chrome")&&-1===a.indexOf("opr"),qe=t?50:0,Re="undefined"!=typeof fetch,Ge=t?"metaKey":"ctrlKey",He=!1,Je=!1,Ke=!1,Ve=!1,$e=!0,Qe=$e||Ve,Xe=!0,Ye=!1,Ze=!1,et=!0,tt=!1,nt=!1,at=!1,rt=!0,ot=!1,it=!1,p=320,m=O&&new URLSearchParams(A.search),ct=m&&"1"===m.get("newtab"),st=m&&"1"===m.get("darkmode"),lt=m&&(e=m.get("ogsUrl"))&&e.startsWith("https://ogs.google.")?e:null,t=!m||!(a=m.get("authuser"))||1!==a.length||-1==="0123456789".indexOf(a)?null:a,dt=m&&(dt=m.get("pageId"))&&0|dt?dt:null,ut=algBasics.proFeatures,gt=algBasics.hasProSubscription&&-1!==ut.indexOf("search_all"),q={authuser:t,pageId:dt},ht=algBasics.cachePrefix+"applauncher",R=algBasics.getShortcutsList(),G={},pt={},mt={},ft=!1,H=I.documentElement,J=I.body;function vt(e){var t=I.getElementById("ref-darkmode");t&&(t.media=e)}function bt(){Lt()?vt("(prefers-color-scheme: dark)"):vt(st?"screen":"not all")}O&&bt(),f?H.classList.add("alg-style-flag--firefox"):d&&(H.classList.add("alg-style-flag--safari"),"iPhone"===navigator.platform)&&H.classList.remove("alg-style-flag--popup");var _t=["af","am","ar","be","bg","bn","bs","ca","cs","da","de","el","en","en-GB","en-US","eo","es","es-419","es-AR","es-CL","es-MX","et","fa","fi","fil","fr","fr-CA","gl","gu","he","hi","hr","hu","id","is","it","iw","ja","ka","km","kn","ko","lb","lt","lv","mk","ml","mr","ms","nb","nl","nn","no","pl","pt","pt-BR","pt-PT","ro","ru","sk","sl","sr","sr-Latn","sv","sw","ta","te","th","tl","tr","uk","ur","vi","zh","zh-CN","zh-HK","zh-TW"];function K(e,t){return e&&Ue&&Ue[e]&&Ue[e].message||re(e,t)}function yt(){return d?Promise.resolve({}):N().then(function(e){Pe=L(Te=e)})}function Ct(){setTimeout(function(){A.reload()})}function Et(){I.hidden?ft=!0:Ct()}function wt(e){return"string"==typeof e&&("about:blank"===e||"about:newtab"===e||"about:home"===e||"favorites://"===e||"topsites://"===e||-1!==e.indexOf("/_/chrome/newtab")||-1!==e.indexOf("/components/startpage/startpage.html")||e.startsWith("chrome-native://newtab")||e.startsWith("chrome-search://local-ntp")||e.startsWith("chrome-untrusted://new-tab-page")||e.startsWith("chrome://new-tab-page")||e.startsWith("chrome://new-tab-page-third-party")||e.startsWith("chrome://newtab")||e.startsWith("chrome://startpage")||e.startsWith("chrome://startpageshared")||e.startsWith("chrome://vivaldi-webui/startpage")||e.startsWith("edge://newtab")||e.startsWith("https://duckduckgo.com/chrome_newtab")||e.startsWith("https://ntp.msn.com/")||e.startsWith("https://www.bing.com/chrome/newtab")||e.startsWith("https://www.ecosia.org/newtab/"))}function Lt(){if(ct)return 1;if(wt(Pe))return 1;try{return wt(new URLSearchParams(lt.split("?")[1]).get("origin"))}catch(e){}}function jt(e,t){var n,a;G=algBasics.joinCustomShortcutsDatabase([t,e]),pt=t[algBasics.cachePrefix+"iconDataCache"]||{},o=!(xe=!1),e.openInCurrentTab?o=!1:e.openInNewTabChrome?o=!0:ct?o=!1:Me.then(function(){o=!Lt()}),e.appDarkMode&&vt("screen"),Se=e.noFocusTab,Ae=e.noFocusActiveTab,g=et&&!1!==e.showLaunchbox,Ce=!g&&tt&&!1!==e.showSettings,T=g||Ce,je=O&&!e.gbwaConfig,we=e.freezeCustomisation,M=!0===$e&&!we,P=Ze||Xe&&e.displayMarketplaceApps,Ee=rt&&!e.hideSuggestions,Ie=Je&&e.hideLabel,W=algBasics.parseUserlist(e.userList),algBasics.handleTemporaryShortcuts(W,e.autoListRemoved,R),t=e.shortcutIconSize,l=d?48:40==(t=0|t)?40:!t||40<t?48:Ke&&Ie?t:24,Be=32===l||16===l?l:48,I.documentElement.style.setProperty("--icon-size",l+"px"),Oe=32<l,He&&(t=e.displayMode||"grid",e=0|e.iconBreak,"grid"!==(t="custom"===t&&e<1?"grid":t)||Ie&&!Oe)&&(n=Oe?44:16,a=Oe?92:Ie?16+l:152,"vertical"===t?e=1:"horizontal"===t?e=25:"custom"!==t&&(e=16<l?4:5),t=W.length,p=n+(e=t<e&&t?t:e)*a,g&&p<152?(ke=p,p=152):794<p&&(p=n+Math.floor((794-n)/a)*a),O&&(p+=24),Ne=p<224,_e)&&(t=p.toString()+"px",H.style.width=t,H.classList.add("alg-style-flag--customgrid"))}function xt(e){var t="string"==typeof(t=e)&&Boolean(/^(?:ar|ajp|arz|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[_-](?:adlm|arab|hebr|nkoo|rohg|thaa)(?:$|-|_))(?!.*[_-](?:latn|cyrl)(?:$|-|_))/i.test(t));H.dir=t?"rtl":"ltr",H.lang=e}function kt(){var e,t=function(){if(Re)if(u)for(var e=Array.prototype.concat(navigator.language,navigator.languages,navigator.userLanguage),t=0;t<e.length;t++){var n=e[t],n=oe(_t,n);if(n)return n===r?void 0:n}else{var a=m&&m.get("hl");if(a&&"string"==typeof a){a=oe(_t,a);if(a&&a!==r)return a}}}();return t?((e=t)&&"string"==typeof e?"undefined"==typeof fetch?Promise.reject(new Error("No fetch API")):(e="/_locales/"+e.replace("-","_")+"/messages.json",e=B.runtime?B.runtime.getURL(e):".."+e,fetch(e).then(function(e){return e.json()})):Promise.reject(new Error("Invalid language tag"))).then(function(e){return Ue=e,t},function(){return r}):Promise.resolve(r)}function Nt(){var e=browserStorage.local.get([algBasics.cachePrefix+"iconDataCache","algCustomShortcutsDatabase","legacyExtDisplayed202404"]),e=[browserStorage.sync.get(algBasics.supportedStorageKeys),e];return(O||u)&&e.push(kt().then(xt)),Promise.all(e).then(function(e){return jt(e[0],e[1])})}var St=c;function At(){var t;t=!0,(B.tabs?d&&t?k().then(function(e){return e||x()}):x().then(function(e){return!e||d&&!1!==t&&e.url!==A.href?k():e}):k()).then(function(e){St=s(e),V(),setTimeout(V,10),setTimeout(V,50),setTimeout(V,200),setTimeout(V,1e3),setInterval(V,4e3)})}function It(e,t){try{r=(n={method:e,data:t,target:"topFrameCs",tabId:St,frameId:0,forward:ye}).tabId,o=B.tabs&&B.tabs.sendMessage,(0===r||0<r)&&o?B.tabs.sendMessage(r,n,{frameId:n.frameId},a):B.runtime.sendMessage(n,a)}catch(e){(e.message||"").includes("Extension context invalidated")}var n,a,r,o}function Bt(){n.close()}function Ot(){be||(_e?Bt():(setTimeout(function(){n.scrollTo(0,0)}),It("closePopup")))}function Tt(e){var t,n;u?(b("ping"),setTimeout(function(){b("openExtensionPreferences")},1e3)):(t=e&&e.shiftKey,n=e&&(e[Ge]||1===e.button),ne(t,n).then(function(){n&&!1===t||Ot()}))}function Pt(e,t,n){var a=t,r=n||Se&&!t||o&&null;return ee(e,a,r,O&&Te).then(function(){r&&!1===a||Ot()})}function Mt(t,e){var n,a;if(!u)return n=e&&e.shiftKey,a=e&&(e[Ge]||1===e.button),"object"!=typeof B.tabs||Ae||n||a?Pt(t,n,a):C(t).then(function(e){e=s(e);return e===c?Pt(t,n,a):S(e,{active:!0}).then(Ot,function(){return Pt(t,n,a)})});b("openUrl",t)}function Wt(e,t){e(q).then(function(e){return Mt(e,t)})}function Dt(e,t){"175"===e?Wt(de,t):"176"===e?Wt(ue,t):"-1"===e?Tt(t):e in G?Mt(G[e].url,t):Mt(algBasics.getShortcutUrl(e,q),t)}function Ft(e,t){O?yt().then(function(){Dt(e,t)},function(){Dt(e,t)}):Dt(e,t)}function Ut(){W=[];for(var e=U.children,t=0;t<e.length;t++){var n=e[t].dataset.shortcutId;W.push(n)}}function zt(e,t){var n=K(e.i,e.name||""),a=algFrontend.createShortcutItem(e,{customIconDataCache:pt,customShortcutsDatabase:G,draggable:Qe&&!e.marketplaceApp,hideLabel:Ie,label:n,sourceSize:Be},t);return"edit"===$e&&((e=algFrontend.createIconButton({iconName:"delete",label:re("cj_i18n_01669","Remove shortcut"),onClick:function(){a.remove(),Ut(),algBasics.saveSelectedShortcutsWithRemovals(W)}})).classList.add("alg-removeicon"),a.appendChild(e)),a.setAttribute("role","link"),a.dataset.queryLabel=n.toLowerCase(),a}function V(){var e=function(){var e=0|(D?D.scrollHeight+2:J.scrollHeight);if(!(e<3))return e<200?200:2e3<e?2e3:e}();e&&It("popupHeight",e)}function qt(){var e=I.createElement("ul");return e.className="cj-shortcutlist",_e&&ke&&(e.style.width=ke+"px"),Oe?e.classList.add("cj-shortcutlist--grid"):O&&e.classList.add("cj-shortcutlist--list"),Ie&&e.classList.add("cj-shortcutlist--nolabels"),l<24&&e.classList.add("cj-shortcutlist--condensed"),e}function $(e){var t;!Le&&(t=e.target,t=(t=algFrontend.envMacLockdownMode&&t.classList.contains("cj-shortcutlist__dragimage")?t.parentNode:t).dataset.shortcutId)&&Ft(t,e)}function Rt(){algBasics.saveSelectedShortcutsWithRemovals(W)}function Gt(e){var t,n,a,r=e.target;algFrontend.envMacLockdownMode&&(r=r.parentNode),(M||Ve)&&r.parentNode===U?(t=e.dataTransfer,M?(t.setData("text/plain",r.textContent),t.dropEffect="move",i=r,setTimeout(function(){U.classList.add("cj-shortcutlist--dragging"),r.classList.add("cj-shortcutlist__item--dragging"),h&&(h.hidden=!1),T||(F.hidden=!1)})):(n=r.dataset.shortcutId,n=(a=algBasics.getShortcutUrl(n,q))||(a=G[n]||R[n]).url||a.u,t.setData("text/uri-list",n),t.setData("text/plain",n),t.dropEffect="link")):e.preventDefault()}function Ht(e){M&&(e.preventDefault(),setTimeout(function(){U.classList.remove("cj-shortcutlist--dragging"),i.classList.remove("cj-shortcutlist__item--dragging"),i=null,h&&(h.hidden=!0),T||(F.hidden=!0),Rt(),V()}))}function Jt(e){var t,n;M&&(t=e.target,algFrontend.envMacLockdownMode&&t.classList.contains("cj-shortcutlist__dragimage")&&(t=t.parentNode),n=i.dataset.shortcutId,setTimeout(function(){var e;t===U?U.appendChild(i):t===h?U.removeChild(i):(e=W.indexOf(n)<W.indexOf(t.dataset.shortcutId)?t.nextSibling:t,U.insertBefore(i,e)),Ut()}))}function Kt(e){var t=qt();t.addEventListener("click",$),t.addEventListener("auxclick",$),t.addEventListener("keydown",function(e){var t=ve(e);t!==fe&&t!==me||$(e)});for(var n=0;n<e.length;n++){var a=e[n],r=R[a]||G[a];r&&t.appendChild(zt(r,a))}return Qe&&(t.addEventListener("dragstart",Gt),t.addEventListener("dragend",Ht),t.addEventListener("dragenter",Jt)),t}function Vt(e,t){var n=I.createDocumentFragment();t.forEach(function(e){var e=e[1]&&e[1][0],e=algBasics.gbIdToShortcutIdMap[e];e&&R[e]&&(e=zt(R[e],e),n.appendChild(e))}),e.appendChild(n)}function $t(e,t){var i=I.createDocumentFragment(),c=48<(n.devicePixelRatio||2)*l;t.forEach(function(t){o=c,a={marketplaceApp:!0,name:(e=t).name||""},(r=e.iconUrl48x48||e.iconUrl96x96||e.iconUrl).endsWith("/apps_script_48dp.png")?a.icon="script":r.startsWith("https://ssl.gstatic.com/classroom/ic_product_classroom_")?a.icon="classroom":r.startsWith("https://ssl.gstatic.com/images/branding/product/1x/cloud_print_")?a.icon="cloudprint":(n=48,o&&e.iconUrl96x96&&(r=e.iconUrl96x96,n=96),a.iconData={href:r,size:n});var e,n,a,r,o=zt(a);o.addEventListener("click",function(e){Mt(t.url,e)}),i.appendChild(o)}),e.appendChild(i),e.hidden=!1}function Qt(e){var t=U.querySelector(".cj-shortcutlist__item--prefixmatch")||U.querySelector(".cj-shortcutlist__item:not(.cj-shortcutlist__item--noquerymatch)");t?Ft(t.dataset.shortcutId,e):(t=P&&z.querySelector(".cj-shortcutlist__item:not([hidden])"))&&t.click()}function Xt(e){for(var t=e.currentTarget.value.toLowerCase(),n=0<t.length,a=(H.classList.toggle("alg-style-flag--searching",n),I.querySelectorAll(".cj-shortcutlist > .cj-shortcutlist__item")),r=0;r<a.length;r++){var o=a[r],i=o.dataset.queryLabel,c=!1,s=!1;n&&(-1===(i=i.indexOf(t))?c=!0:s=0===i),o.classList.toggle("cj-shortcutlist__item--noquerymatch",c),o.classList.toggle("cj-shortcutlist__item--prefixmatch",s)}gt?(De.hidden=!n,U.hidden=n,z&&(z.hidden=n),We.hidden=n):(U&&(U.hidden=!U.querySelector(".cj-shortcutlist__item:not(.cj-shortcutlist__item--noquerymatch)")),P&&(e=z.querySelector(".cj-shortcutlist__item:not(.cj-shortcutlist__item--noquerymatch)"),z.hidden=!e)),O&&setTimeout(V,1e-10)}function Yt(){var t,r,e,n,a,o,i,c,s,l=I.createElement("div");return l.className="alg-appbar",$e&&!we&&((h=I.createElement("div")).hidden=!0,h.className="alg-droparea",I.addEventListener("dragover",function(e){e.preventDefault()}),h.addEventListener("drop",Ht),h.addEventListener("dragenter",Jt),l.appendChild(h),(o=algFrontend.createIconButton({iconName:"delete"})).classList.add("alg-droparea__icon"),o.disabled=!0,h.appendChild(o),(o=I.createElement("p")).className="alg-droparea__message",o.textContent=K("cj_i18n_00097","Drop here to remove"),h.appendChild(o)),T&&(O&&B.runtime.onMessage.addListener(function(e,t){var n,a;return t.id===B.runtime.id&&((t=e&&e.method)&&!e.forward&&"embedApp"===e.target&&e.tabId===St)&&(n=e.data,"shareDocHeightRequest"===t?V():"popupOpenState"===t?g&&!0===n&&(V(),r.focus(),setTimeout(V,100)):"newDarkMode"===t?(a=n,(a=Boolean(a))!==st&&(st=a,bt())):"newPageLanguage"===t?(a=oe(_t,n))&&H.lang.split("-")[0]!==a.split("-")[0]&&Et():"ping"===t&&It("pong",e.data)),!1}),g?(t=algFrontend.createIconButton({iconName:"search",label:K("cj_i18n_01619","Search and launch"),onClick:function(e){r.value&&Qt(e),r.focus()}}),l.appendChild(t),(r=I.createElement("input")).className="alg-appbar__input",r.autofocus=!O,r.placeholder=Ne?K("cj_i18n_00085","Search"):K("cj_i18n_01619","Search and launch"),r.addEventListener("input",Xt),r.addEventListener("keyup",function(e){ve(e)===fe&&Qt(e)}),l.appendChild(r)):((o=I.createElement("h1")).className="alg-appbar__title",o.textContent="Shortcuts for Google",l.appendChild(o)),"edit"!==$e||we||(e=function(e){U.classList.toggle("cj-shortcutlist--customising",e),M=Le=e,t.hidden=e,r.hidden=e,We.hidden=e,a.hidden=!e,n.hidden=!e},(n=I.createElement("h1")).hidden=!0,n.className="alg-appbar__title",n.textContent="Customise",l.appendChild(n),We=algFrontend.createIconButton({iconName:"edit",label:K("cj_i18n_01713","Customise")}),(a=algFrontend.createIconButton({iconName:"done",label:K("cj_i18n_00301","Done")})).hidden=!0,We.addEventListener("click",function(){e(!0)}),l.appendChild(We),a.addEventListener("click",function(){e(!1)}),l.appendChild(a)),o=K("cj_i18n_00298","Settings"),u?(c=d||u?"more_horiz":"more_vert",s=K("cj_i18n_00047","More"),i=[[o,Tt]],u&&i.push([K("cj_i18n_01997","Quit"),Bt]),c=algFrontend.createDropdownButton(c,s,function(){return i}),l.appendChild(c)):(s=algFrontend.createIconButton({iconName:"settings",label:o,onClick:Tt}),l.appendChild(s))),l}function Zt(e){n.scrollTo(0,0),J.style.width=p+e%2+"px",H.style.width=p+"px",H.style.marginLeft=(e-1)%2+"px",e<2?setTimeout(Zt.bind(null,e+1),100):(J.style.width="",H.style.marginLeft="")}function en(a,e,r,o){var t=I.createElement("section"),n=(t.className="alg-suggestion",algFrontend.createShortcutIcon(a,e,{size:48})),n=(n.classList.add("alg-suggestion__icon"),t.appendChild(n),I.createElement("div")),i=(n.className="alg-suggestion__details",t.appendChild(n),I.createElement("h2")),i=(i.className="alg-suggestion__title",i.textContent=e.name||"",n.appendChild(i),I.createElement("p")),e=(i.className="alg-suggestion__subtitle",i.textContent=e.nu,n.appendChild(i),I.createElement("div")),i=(e.className="ccc-button ccc-button--color alg-suggestion__add",e.textContent=K("cj_i18n_01621","Add shortcut"),e.addEventListener("click",function(){var e,t;t=R[e=a],-1===W.indexOf(e)&&t&&(W.push(e),U.appendChild(zt(t,e)),Rt()),Fe.cjceClose()}),n.appendChild(e),algFrontend.createIconButton({iconName:"close",label:K("cj_i18n_01620","Dismiss"),onClick:function(){var e,t,n;e=a,n=o,-1===(t=r).indexOf(e)&&(t.push(e),t.sort(),B.storage.local.set({suggestionBlacklist:t})),-1!==(t=n.indexOf(e))&&(n.splice(t,1),n.sort(),B.storage.local.set({suggestionWhitelist:n})),Fe.cjceClose()}}));return i.classList.add("alg-suggestion__dismiss"),t.appendChild(i),t}function tn(){var t,n,a,r,e,o,i,c,s,l="-"+q.pageId+"-"+q.authuser,l=(ht+=l,(D=I.createElement("main")).className="alg-launcherapp",(T||M)&&(F=Yt(),T||(F.hidden=!0),Ce||(F.classList.add("alg-appbar--sticky"),D.appendChild(F))),Array.isArray(W)&&0<W.length);function d(e,t){var n=e[t];n&&Array.isArray(e)&&0!==e.length&&Vt(o[t],c[t]=n)}function u(e,t){var n=e[t],a=o[t];n&&Array.isArray(e)&&0!==e.length?(e=c[t],s[t]=n,JSON.stringify(n)!==JSON.stringify(e)&&(a.textContent="",Vt(a,n))):a.textContent=""}z=P&&(n=qt(),a=!(n.hidden=!0),r=algBasics.cachePrefix+"marketplace-apps-"+q.pageId+"-"+q.authuser,browserStorage.local.getItem(r).then(function(e){!a&&Array.isArray(e)&&0!==e.length&&$t(n,t=e)}),algBasics.getMarketplaceApps(q).then(function(e){a=!0,0===e.length?n.remove():t&&JSON.stringify(t)===JSON.stringify(e)||(n.textContent="",$t(n,e),browserStorage.local.setItem(r,e))}),n),P&&Ye&&D.appendChild(z),gt&&((De=function(e){for(var t=qt(),n=(t.addEventListener("click",$),t.addEventListener("auxclick",$),t.addEventListener("keydown",function(e){var t=ve(e);t!==fe&&t!==me||$(e)}),[].concat(e,Object.keys(R))),a=[],r=0;r<n.length;r++){var o,i=n[r];-1===a.indexOf(i)&&(a.push(i),o=R[i]||G[i])&&t.appendChild(zt(o,i))}return Qe&&(t.addEventListener("dragstart",Gt),t.addEventListener("dragend",Ht),t.addEventListener("dragenter",Jt)),t}(W)).classList.remove("cj-shortcutlist--grid"),De.classList.add("cj-shortutlist--details"),De.style.setProperty("--icon-size","24px"),De.hidden=!0,D.appendChild(De)),!nt&&l&&(U=Kt(W),D.appendChild(U)),it&&mt&&Array.isArray(mt.enterpriseList)&&0<mt.enterpriseList.length&&(e=Kt(mt.enterpriseList),U=U||e,D.appendChild(e)),at&&D.appendChild((e=I.createDocumentFragment(),(j=qt()).addEventListener("click",$),j.addEventListener("auxclick",$),e.appendChild(j),(m=qt()).addEventListener("click",$),m.addEventListener("auxclick",$),e.appendChild(m),i=!(o=[j,m]),c=[],s=[],browserStorage.local.getItem(ht).then(function(e){!i&&e&&Array.isArray(e)&&0!==e.length&&(d(e,0),d(e,1))}),algBasics.getOgsShortcuts(q).then(function(e){i=!0,e&&Array.isArray(e)&&0!==e.length&&(u(e,0),u(e,1),JSON.stringify(c)!==JSON.stringify(s))&&browserStorage.local.setItem(ht,s)}),j.addEventListener("dragstart",Gt),j.addEventListener("dragend",Ht),j.addEventListener("dragenter",Jt),m.addEventListener("dragstart",Gt),m.addEventListener("dragend",Ht),m.addEventListener("dragenter",Jt),e)),P&&!Ye&&D.appendChild(z),Ce&&(F.classList.add("alg-appbar--bottom","alg-appbar--center"),D.appendChild(F));var g,h,p,m,f,v,b,_,y,C,E,w,L,j=!0,x=((g=I.createElement("div")).classList.add("alg-bottombanner"),g.cjceClose=function(){H.classList.remove("alg-style-flag--wide-content"),g.remove(),setTimeout(V,10)},g.cjceOpen=function(){H.classList.add("alg-style-flag--wide-content"),D.appendChild(g)},g);function k(e){je=!1,browserStorage.sync.set({gbwaConfig:e||"override"}),f.cjceClose()}function N(){B.storage.local.set({workspaceBannerDisplayed:!0}),y.cjceClose()}function S(){C.cjceClose()}xe?(h=x,p=-1!==navigator.userAgent.indexOf("OPR"),(m=I.createElement("section")).className="alg-bottombanner__section",h.appendChild(m),(_=I.createElement("div")).className="alg-bottombanner__header",m.appendChild(_),(b=I.createElement("img")).draggable=!1,b.className="alg-bottombanner__icon",b.src="/images/action/alg/alg-16.svg",_.appendChild(b),(b=I.createElement("h3")).className="alg-bottombanner__title",v=p?"Shortcuts for Google on Opera":"App Launcher in Popup",b.textContent=v+=" has been replaced with G App Launcher.",_.appendChild(b),(v=I.createElement("p")).className="alg-dialog__message",_=K("cj_i18n_06310","This extension also overrides the App Launcher on Google websites. This can always be changed in settings."),v.textContent=_,m.appendChild(v),(b=I.createElement("div")).className="alg-dialog__controls",m.appendChild(b),_=algFrontend.createMaterialButton({color:!0,hairline:!0,label:K("cj_i18n_01659","Cancel"),onClick:function(){B.storage.local.set({legacyExtDisplayed202404:!0}),h.cjceClose()}}),b.appendChild(_),v=algFrontend.createMaterialButton({color:!0,fill:!0,label:K("cj_i18n_06968","Upgrade now"),onClick:function(e){Mt(p?"https://addons.opera.com/extensions/details/app_id/jegfmclagmheobcjojbiohjekamkpbeb":"https://chrome.google.com/webstore/detail/g-app-launcher-customizer/ponjkmladgjfjgllmhnkhgbgocdigcjm",e),h.cjceClose()}}),b.appendChild(v)):je?(f=x,(_=I.createElement("section")).className="alg-bottombanner__section",f.appendChild(_),(b=I.createElement("div")).className="alg-bottombanner__header",_.appendChild(b),(v=I.createElement("img")).draggable=!1,v.className="alg-bottombanner__icon",v.src="/images/action/alg/alg-16.svg",b.appendChild(v),(v=I.createElement("h3")).className="alg-bottombanner__title",v.textContent=K("cj_i18n_06309","Welcome to {APP_NAME}").replace("{APP_NAME}","G App Launcher"),b.appendChild(v),(b=I.createElement("p")).className="alg-dialog__message",b.textContent=K("cj_i18n_06310","This extension also overrides the App Launcher on Google websites. This can always be changed in settings."),_.appendChild(b),(v=I.createElement("div")).className="alg-dialog__controls",_.appendChild(v),b=algFrontend.createMaterialDropdown({color:!0,hairline:!0,label:K("cj_i18n_01900","More options"),options:{override:K("cj_i18n_06302","Override button and launcher"),launcheronly:K("cj_i18n_06303","Only override launcher"),hide:K("cj_i18n_06304","Hide button"),leave:K("cj_i18n_06305","Don't override")},onChange:function(e){k(e),"leave"===e&&lt&&(A.href=lt)}}),v.appendChild(b),_=algFrontend.createMaterialButton({color:!0,fill:!0,label:K("cj_i18n_06311","Confirm"),onClick:function(){k("override")}}),v.appendChild(_)):ot?(y=x,(E=I.createElement("section")).classList.add("alg-bottombanner__section"),y.appendChild(E),(L=I.createElement("div")).className="alg-bottombanner__header",E.appendChild(L),(w=I.createElement("img")).draggable=!1,w.className="alg-bottombanner__icon",w.src="/images/action/alg/alg-16.svg",L.appendChild(w),(w=I.createElement("h3")).className="alg-bottombanner__title",w.textContent="Try Google Workspace!",L.appendChild(w),(L=I.createElement("p")).className="alg-dialog__message",L.textContent="Try Google Workspace!",E.appendChild(L),(w=I.createElement("div")).className="alg-dialog__controls",E.appendChild(w),L=algFrontend.createMaterialButton({color:!0,hairline:!0,label:K("cj_i18n_07403","Do not ask again"),onClick:function(){N()}}),w.appendChild(L),E=algFrontend.createMaterialButton({color:!0,fill:!0,label:K("cj_i18n_07404","Start"),onClick:function(){N()}}),w.appendChild(E)):Ee&&l?(Fe=x,setTimeout(function(){Me.then(function(){var o;o=x,B.storage.local.get(["suggestionBlacklist","suggestionWhitelist"],function(e){var t,n,a=e.suggestionBlacklist||[],e=e.suggestionWhitelist||[],r=!1;if(!(t=Pe&&(n=he(R,Pe),Array.isArray(n))&&0<n.length?n.filter(function(e){return-1===W.indexOf(e)&&-1===a.indexOf(e)})[0]:t)){if(.03<Math.random())return;r=!0,t=.5<Math.random()||-1!==W.indexOf("9998")?"9999":"9998"}-1!==W.indexOf(t)||-1!==algBasics.disallowedlist.indexOf(t)||!r&&-1===e.indexOf(t)?(e.push(t),e.sort(),B.storage.local.set({suggestionWhitelist:e})):(n=R[t])&&(r=en(t,n,a,e),o.appendChild(r),o.cjceOpen())})})})):j=!1,gt&&(j=!0,C=x,(L=I.createElement("section")).className="alg-bottombanner__section alg-searchpromo",C.appendChild(L),(w=I.createElement("div")).className="alg-bottombanner__header",L.appendChild(w),(E=I.createElement("img")).draggable=!1,E.className="alg-bottombanner__icon",E.src="/images/action/alg/alg-16.svg",w.appendChild(E),(E=I.createElement("h3")).className="alg-bottombanner__title",E.textContent=K("cj_i18n_06309","Welcome to {APP_NAME}").replace("{APP_NAME}","G App Launcher"),w.appendChild(E),(w=I.createElement("p")).className="alg-dialog__message",w.textContent=K("cj_i18n_06310","This extension also overrides the App Launcher on Google websites. This can always be changed in settings."),L.appendChild(w),(E=I.createElement("div")).className="alg-dialog__controls",L.appendChild(E),w=algFrontend.createMaterialButton({color:!0,outline:!0,label:K("cj_i18n_01616","Close"),onClick:function(){S()}}),E.appendChild(w),L=algFrontend.createMaterialButton({color:!0,fill:!0,label:K("cj_i18n_07618","Upgrade"),onClick:function(){S(),openUpgradeView()}}),E.appendChild(L)),j&&x.cjceOpen(),J.textContent="",J.appendChild(D),H.classList.add("alg-style-flag--loaded"),O&&(At(),I.addEventListener("visibilitychange",function(){!I.hidden&&ft&&Ct()}),B.storage.onChanged.addListener(function(e,t){t&&"sync"!==t||(t=e.userList&&e.userList.newValue)&&t.join(",")===W.join(",")||Et()})),_e&&ze&&(H.classList.add("alg-style-flag--macfix"),Zt(0))}function nn(){J.textContent="",O||(H.dir=ae&&B.i18n.getMessage("@@bidi_dir")||"ltr",H.lang=r),Me=yt(),it?algBasics.getEnterpriseData().then(function(e){var t;e&&e.toolbarIconUrl?algBasics.setActionIconWithUrl(e.toolbarIconUrl):algBasics.setActionIcon("app_launcher_square"),e?(mt=e.config,q=e.account,Nt().then(tn)):((e=I.createElement("div")).style.margin="24px",(t=I.createElement("p")).textContent=K("cj_i18n_01949","No compatible account could be found"),e.appendChild(t),(t=I.createElement("button")).type="button",t.textContent=K("cj_i18n_01544","Sign in"),t.className="ccc-button ccc-button--fill ccc-button--color",t.addEventListener("click",function(e){Mt("https://accounts.google.com/AddSession",e)}),e.appendChild(t),J.appendChild(e))}):Nt().then(tn)}O?nn():"complete"===I.readyState?setTimeout(nn,10+qe):n.addEventListener("load",function(){setTimeout(nn,30+qe)})}();